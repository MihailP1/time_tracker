(this.webpackJsonptime_tracker=this.webpackJsonptime_tracker||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);a(11);var s=a(2),n=a.n(s),r=a(10),i=a.n(r),c=(a(16),a(8)),o=a(3),l=a(4),h=a(5),u=a(1),m=a(7),b=a(6),j=(a(17),a(0)),d=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={userName:"",form:"",numberOfTasks:20,tasks:{}},s.saveData=s.saveData.bind(Object(u.a)(s)),s.changeSavedTask=s.changeSavedTask.bind(Object(u.a)(s)),s.deleteTask=s.deleteTask.bind(Object(u.a)(s)),s.changeForm=s.changeForm.bind(Object(u.a)(s)),s.setUser=s.setUser.bind(Object(u.a)(s)),s.setForm=s.setForm.bind(Object(u.a)(s)),s.getSavedTasks=s.getSavedTasks.bind(Object(u.a)(s)),s.setSavedTasks=s.setSavedTasks.bind(Object(u.a)(s)),s.createTasks=s.createTasks.bind(Object(u.a)(s)),s}return Object(h.a)(a,[{key:"setUser",value:function(e){this.setState({userName:e}),""!=this.state.userName&&void 0!=this.state.userName&&(this.createTasks(),this.getSavedTasks()),this.setForm()}},{key:"componentDidMount",value:function(){this.createTasks(),this.setForm()}},{key:"createTasks",value:function(){for(var e=this,t=function(t){e.setState((function(e){return{tasks:Object(o.a)(Object(o.a)({},e.tasks),{},Object(c.a)({},t,{name:"",time:""}))}}))},a=1;a<=this.state.numberOfTasks;a++)t(a)}},{key:"getSavedTasks",value:function(){var e=this,t=this.state.userName;fetch("/time_tracker/php/savedTasks.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){return e.setSavedTasks(t)}))}},{key:"setSavedTasks",value:function(e){for(var t=1;t<=e.length;t++)this.setState({tasks:Object(o.a)(Object(o.a)({},this.state.tasks),{},Object(c.a)({},t,{name:e[t-1][0],time:+e[t-1][1]}))})}},{key:"saveData",value:function(e,t){for(var a=this,s=function(s){return""==a.state.tasks[s].name||void 0==a.state.tasks[s].name?(a.setState((function(a){return{tasks:Object(o.a)(Object(o.a)({},a.tasks),{},Object(c.a)({},s,{name:e,time:t}))}})),"break"):a.state.tasks[s].name==e?(a.setState((function(a){return{tasks:Object(o.a)(Object(o.a)({},a.tasks),{},Object(c.a)({},s,{name:e,time:t+a.tasks[s].time}))}})),"break"):void 0},n=1;n<=this.state.numberOfTasks;n++){if("break"===s(n))break}}},{key:"deleteTask",value:function(e){if(""!=this.state.userName){var t={userName:this.state.userName,taskName:this.state.tasks[e].name};fetch("/time_tracker/php/deleteTask.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)})}this.sort(+e)}},{key:"sort",value:function(e){for(var t=this,a=function(e){if(""!=t.state.tasks[e+1].name&&void 0!=t.state.tasks[e+1].name)t.setState((function(t){return{tasks:Object(o.a)(Object(o.a)({},t.tasks),{},Object(c.a)({},e,{name:t.tasks[e+1].name,time:t.tasks[e+1].time}))}}));else if(e==t.state.numberOfTasks||""==t.state.tasks[e+1].name||void 0==t.state.tasks[e+1].name)return t.setState((function(t){return{tasks:Object(o.a)(Object(o.a)({},t.tasks),{},Object(c.a)({},e,{name:"",time:""}))}})),"break"},s=e;s<=this.state.numberOfTasks;s++){if("break"===a(s))break}}},{key:"changeSavedTask",value:function(e,t){var a=this;this.setState((function(s){return{tasks:Object(o.a)(Object(o.a)({},a.state.tasks),{},Object(c.a)({},t,{name:e.target.value,time:s.tasks[t].time}))}}))}},{key:"setForm",value:function(){""==this.state.userName||void 0==this.state.userName?this.setState({form:Object(j.jsx)(p,{changeForm:this.changeForm})}):this.setState({form:Object(j.jsx)(k,{changeForm:this.changeForm,name:this.state.userName})})}},{key:"changeForm",value:function(e){"registerbtn"==e.target.className?this.setState({form:Object(j.jsx)(O,{changeForm:this.changeForm,setForm:this.setForm,name:this.state.userName,setUser:this.setUser})}):"loginbtn"!=e.target.className&&"logedbtn"!=e.target.className||this.setState({form:Object(j.jsx)(p,{changeForm:this.changeForm})})}},{key:"render",value:function(){var e=this.state,t=this.saveData,a=this.changeSavedTask,s=this.deleteTask,n=this.state.form;return Object(j.jsxs)("div",{className:"app_class row",children:[n,Object(j.jsx)(v,{saveData:t,mainState:e}),Object(j.jsx)(w,{mainState:e,className:"saved_tasks",changeSavedTask:a,deleteTask:s})]})}}]),a}(n.a.Component),p=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={username:"",email:"",psw:"",pswRepeat:""},s.regHandle=s.regHandle.bind(Object(u.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(u.a)(s)),s}return Object(h.a)(a,[{key:"regHandle",value:function(e){e.preventDefault();var t=this.state;this.state.psw==this.state.pswRepeat&&(fetch("/time_tracker/php/regform.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}),this.props.changeForm(e))}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(c.a)({},s,a))}},{key:"render",value:function(){var e=this.props.changeForm;return Object(j.jsxs)("form",{className:"reg_form col-xl-4",children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Register"}),Object(j.jsx)("p",{children:"Please fill in this form to create an account."}),Object(j.jsx)("label",{for:"username",children:Object(j.jsx)("b",{children:"User name"})}),Object(j.jsx)("input",{type:"text",placeholder:"Enter user name",name:"username",onChange:this.handleInputChange,className:"register_input",required:!0}),Object(j.jsx)("label",{for:"email",children:Object(j.jsx)("b",{children:"Email"})}),Object(j.jsx)("input",{type:"text",placeholder:"Enter Email",name:"email",onChange:this.handleInputChange,className:"register_input",required:!0}),Object(j.jsx)("label",{for:"psw",children:Object(j.jsx)("b",{children:"Password"})}),Object(j.jsx)("input",{type:"password",placeholder:"Enter Password",name:"psw",onChange:this.handleInputChange,className:"register_input",required:!0}),Object(j.jsx)("label",{for:"pswRepeat",children:Object(j.jsx)("b",{children:"Repeat Password"})}),Object(j.jsx)("input",{type:"password",placeholder:"Repeat Password",name:"pswRepeat",onChange:this.handleInputChange,className:"register_input",required:!0}),Object(j.jsxs)("p",{children:["By creating an account you agree to our ",Object(j.jsx)("a",{href:"#",className:"ref",children:"Terms & Privacy"}),"."]}),Object(j.jsx)("button",{type:"submit",className:"registerbtn",onClick:this.regHandle,children:"Register"})]}),Object(j.jsx)("div",{className:"container signin",children:Object(j.jsx)("button",{type:"button",className:"registerbtn",onClick:e,children:"Sign in"})})]})}}]),a}(n.a.Component),O=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={email:"",psw:""},s.logHandle=s.logHandle.bind(Object(u.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(u.a)(s)),s}return Object(h.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(c.a)({},s,a))}},{key:"logHandle",value:function(e){var t=this;e.preventDefault();var a=this.state;fetch("/time_tracker/php/loginform.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){return t.props.setUser(e)}))}},{key:"render",value:function(){var e=this.props.changeForm;return Object(j.jsxs)("form",{className:"reg_form col-xl-4",children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsx)("label",{for:"email",children:Object(j.jsx)("b",{children:"Email"})}),Object(j.jsx)("input",{type:"text",placeholder:"Enter Email",name:"email",onChange:this.handleInputChange,className:"register_input",required:!0}),Object(j.jsx)("label",{for:"psw",children:Object(j.jsx)("b",{children:"Password"})}),Object(j.jsx)("input",{type:"password",placeholder:"Enter Password",name:"psw",onChange:this.handleInputChange,className:"register_input",required:!0}),Object(j.jsx)("button",{type:"submit",className:"registerbtn",onClick:this.logHandle,children:"Login"})]}),Object(j.jsx)("div",{className:"container signin",children:Object(j.jsx)("button",{type:"button",className:"loginbtn",onClick:e,children:"Register"})})]})}}]),a}(n.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"logout",value:function(){window.location.reload()}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"col-xl-4 loged_username",children:[Object(j.jsx)("h1",{children:this.props.name}),Object(j.jsx)("button",{className:"logoutbtn",onClick:this.logout,children:"Logout"})]})}}]),a}(n.a.Component),v=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={taskName:"",timer:0,isToggleOn:!1},s.handleClick=s.handleClick.bind(Object(u.a)(s)),s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.resetTime=s.resetTime.bind(Object(u.a)(s)),s.stopTime=s.stopTime.bind(Object(u.a)(s)),s.clearTask=s.clearTask.bind(Object(u.a)(s)),s.clearTime=s.clearTime.bind(Object(u.a)(s)),s.setSavedTask=s.setSavedTask.bind(Object(u.a)(s)),s}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.setState({taskName:e.target.value})}},{key:"clearTask",value:function(){this.setState({taskName:""})}},{key:"clearTime",value:function(){0==this.state.isToggleOn&&this.setState({timer:0})}},{key:"tick",value:function(){this.setState((function(e){return{timer:e.timer+100}}))}},{key:"resetTime",value:function(){this.setState({timer:0})}},{key:"stopTime",value:function(){clearInterval(this.timerID),this.setState({isToggleOn:!1})}},{key:"handleClick",value:function(){var e=this;!1===this.state.isToggleOn&&0!=this.state.taskName?this.timerID=setInterval((function(){return e.tick()}),100):clearInterval(this.timerID),this.setState((function(e){return{isToggleOn:!e.isToggleOn}}))}},{key:"setSavedTask",value:function(e){this.setState({taskName:e})}},{key:"render",value:function(){var e=this.state.taskName,t=this.state.timer,a=this.state.isToggleOn,s=this.handleClick,n=this.handleChange,r=this.resetTime,i=this.stopTime,c=this.clearTask,o=this.clearTime,l=this.props.saveData,h=this.props.mainState,u=this.setSavedTask,m=h.userName;return Object(j.jsxs)("div",{className:"timer_menu col-xl-4",children:[Object(j.jsx)(f,{timer:t,taskName:e,change:n}),Object(j.jsx)(g,{timer:t}),Object(j.jsx)(T,{toggle:a,click:s}),Object(j.jsx)(x,{clearTime:o}),Object(j.jsx)(y,{taskName:e,timer:t,saveData:l,resetTime:r,stopTime:i,clearTask:c,userName:m,mainState:h}),Object(j.jsx)(S,{mainState:h,setSavedTask:u})]})}}]),a}(n.a.Component);function f(e){var t=e.change;return 0===e.timer?Object(j.jsx)("h1",{children:Object(j.jsx)("input",{type:"text",value:e.taskName,onChange:t,className:"currentTaskName",placeholder:"Name your task"})}):Object(j.jsx)("h1",{children:Object(j.jsx)("input",{type:"text",value:e.taskName,readOnly:!0,className:"currentTaskName"})})}var g=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.timer;return Object(j.jsx)("h2",{className:"currentTimer",children:function(e){var t=String(Math.floor(e%1e3)).substr(0,1),a=Math.floor(e/1e3),s=Math.floor(a/3600);a-=3600*s;var n=Math.floor(a/60);return s<0?s="00":s<10&&(s="0"+s),a=("00"+(a=""+(a-=60*n))).substring(a.length),s+":"+(n=("00"+(n=""+n)).substring(n.length))+":"+a+":"+t}(e)})}}]),a}(n.a.Component),T=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.click,t=this.props.toggle;return Object(j.jsx)("button",{onClick:e,className:"timer_button",children:t?"Stop":"Start"})}}]),a}(n.a.Component),x=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.clearTime;return Object(j.jsx)("button",{onClick:e,className:"timer_button",children:"Clear"})}}]),a}(n.a.Component),y=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).save=s.save.bind(Object(u.a)(s)),s}return Object(h.a)(a,[{key:"save",value:function(){var e=this.props.mainState.numberOfTasks;if(this.props.timer&&""==this.props.mainState.tasks[e].name){if(this.props.saveData(this.props.taskName,this.props.timer),this.props.resetTime(),this.props.stopTime(),this.props.clearTask(),""==this.props.userName)return null;var t={userName:this.props.userName,taskName:this.props.taskName,time:this.props.timer};fetch("/time_tracker/php/saveTask.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)})}}},{key:"render",value:function(){return Object(j.jsx)("button",{onClick:this.save,className:"timer_button",children:"Save"})}}]),a}(n.a.Component),S=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.mainState,t=this.props.setSavedTask;return Object(j.jsx)(N,{mainState:e,children:Object(j.jsx)(C,{mainState:e,setSavedTask:t})})}}]),a}(n.a.Component),N=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=function(e,t){if(void 0!=e.tasks[1]&&""!=e.tasks[1].name)return Object(j.jsxs)("div",{className:"taskSelect",children:[Object(j.jsx)("div",{className:"continue",children:"Continue task"})," ",t]})}(this.props.mainState,this.props.children);return Object(j.jsx)(n.a.Fragment,{children:e})}}]),a}(n.a.Component),C=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).clickTask=s.clickTask.bind(Object(u.a)(s)),s}return Object(h.a)(a,[{key:"clickTask",value:function(e){this.props.setSavedTask(this.props.mainState.tasks[e.target.id].name)}},{key:"render",value:function(){var e=this.props.mainState,t=this.clickTask;var a=function(e){for(var a=[],s=1;s<=e.numberOfTasks&&""!=e.tasks[s].name;s++)a.push(Object(j.jsx)("div",{className:"select",onClick:t,id:s,children:e.tasks[s].name}));return a}(e);return Object(j.jsx)(n.a.Fragment,{children:a})}}]),a}(n.a.Component),w=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.mainState,t=this.props.changeSavedTask,a=this.props.deleteTask;var s=function(e){for(var s=[],n=1;n<=e.numberOfTasks&&(void 0!=e.tasks[n]&&""!=e.tasks[n].name);n++)s.push(Object(j.jsx)(F,{mainState:e,changeSavedTask:t,deleteTask:a,taskNum:n}));return s}(e);return Object(j.jsx)("div",{className:"col-xl-4",children:s})}}]),a}(n.a.Component),F=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e,t=this.props.mainState,a=this.props.taskNum,s=0!=(e=t.tasks[a]).time&&void 0!=e.time?{name:e.name,time:function(e){var t=String(Math.floor(e%1e3)).substr(0,1),a=Math.floor(e/1e3),s=Math.floor(a/3600);a-=3600*s;var n=Math.floor(a/60);return s<0?s="00":s<10&&(s="0"+s),a=("00"+(a=""+(a-=60*n))).substring(a.length),s+":"+(n=("00"+(n=""+n)).substring(n.length))+":"+a+":"+t}(e.time)}:e,r=this.props.changeSavedTask,i=this.props.deleteTask;var c=function(e){if(e)return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("input",{type:"text",value:s.name,onChange:function(e){return r(e,a)},readOnly:!0,className:"saved_task_name"}),Object(j.jsxs)("h4",{className:"saved_task_time",children:[" ",s.time]}),Object(j.jsx)("button",{onClick:function(){return i(a)},className:"delete_button",children:"Delete"})]})}(s.time);return Object(j.jsx)("div",{className:"saved_task",children:c})}}]),a}(n.a.Component),_=d,I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root")),I()}},[[19,1,2]]]);
//# sourceMappingURL=main.29d21587.chunk.js.map